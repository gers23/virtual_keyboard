(()=>{"use strict";function e(e,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}var a=function(){function a(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a)}var s,c;return s=a,(c=[{key:"generateHTMLpage",value:function(){var e=document.createElement("div");e.className="wrapper";var a=document.createElement("div");return a.className="keyboard",e.innerHTML="<h1>RSS Virtual Keyboard</h1><textarea class = 'textarea' cols = '85' rows = '10'></textarea>",e.append(a),e.insertAdjacentHTML("beforeend","<p>The keyboard is created in the operating system Windows.</p><p>Language switching is carried out by a key combination: Ctrl + Alt</p>"),e}}])&&e(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),a}();function s(e,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}var c=function(){function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e)}var a,c;return a=e,(c=[{key:"generateKeyboard",value:function(){var e=document.createElement("div");return e.className="keyboard__row",e}}])&&s(a.prototype,c),Object.defineProperty(a,"prototype",{writable:!1}),e}();function t(e,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}var n=function(){function e(a,s){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.keysRus=a.rus[s],this.keysEng=a.eng[s]}var a,s;return a=e,(s=[{key:"generateKey",value:function(){var e="",a=document.createElement("div");return a.className="keyboard__key key ".concat(this.keysEng.name),e+='<span class = "rus">',e+='<span class = "caseDown">'.concat(this.keysRus.caseDown,"</span>"),e+='<span class = "caseUp">'.concat(this.keysRus.caseUp,"</span>"),e+='<span class = "caps">'.concat(this.keysRus.caps,"</span>"),e+='<span class = "shiftCaps">'.concat(this.keysRus.shiftCaps,"</span>"),e+="</span>",e+='<span class = "eng">',e+='<span class = "caseDown">'.concat(this.keysEng.caseDown,"</span>"),e+='<span class = "caseUp">'.concat(this.keysEng.caseUp,"</span>"),e+='<span class = "caps">'.concat(this.keysEng.caps,"</span>"),e+='<span class = "shiftCaps">'.concat(this.keysEng.shiftCaps,"</span>"),e+="</span>",a.innerHTML=e,a}}])&&t(a.prototype,s),Object.defineProperty(a,"prototype",{writable:!1}),e}();const p=JSON.parse('{"rus":{"BackQuote":{"name":"BackQuote","caseDown":"ё","caseUp":"Ё","caps":"Ё","shiftCaps":"ё"},"Digit1":{"name":"Digit1","caseDown":"1","caseUp":"!","caps":"1","shiftCaps":"!"},"Digit2":{"name":"Digit2","caseDown":"2","caseUp":"\\"","caps":"2","shiftCaps":"\\""},"Digit3":{"name":"Digit3","caseDown":"3","caseUp":"№","caps":"3","shiftCaps":"№"},"Digit4":{"name":"Digit4","caseDown":"4","caseUp":";","caps":"4","shiftCaps":";"},"Digit5":{"name":"Digit5","caseDown":"5","caseUp":"%","caps":"5","shiftCaps":"%"},"Digit6":{"name":"Digit6","caseDown":"6","caseUp":":","caps":"6","shiftCaps":":"},"Digit7":{"name":"Digit7","caseDown":"7","caseUp":"?","caps":"7","shiftCaps":"?"},"Digit8":{"name":"Digit8","caseDown":"8","caseUp":"*","caps":"8","shiftCaps":"*"},"Digit9":{"name":"Digit9","caseDown":"9","caseUp":"(","caps":"9","shiftCaps":"("},"Digit0":{"name":"Digit0","caseDown":"0","caseUp":")","caps":"0","shiftCaps":")"},"Minus":{"name":"Minus","caseDown":"-","caseUp":"_","caps":"-","shiftCaps":"_"},"Equals":{"name":"Equals","caseDown":"=","caseUp":"+","caps":"=","shiftCaps":"+"},"Backspace":{"name":"Backspace","caseDown":"Backspace","caseUp":"Backspace","caps":"Backspace","shiftCaps":"Backspace"},"Tab":{"name":"Tab","caseDown":"Tab","caseUp":"Tab","caps":"Tab","shiftCaps":"Tab"},"KeyQ":{"name":"KeyQ","caseDown":"й","caseUp":"Й","caps":"Й","shiftCaps":"й"},"KeyW":{"name":"KeyW","caseDown":"ц","caseUp":"Ц","caps":"Ц","shiftCaps":"ц"},"KeyE":{"name":"KeyE","caseDown":"у","caseUp":"У","caps":"У","shiftCaps":"у"},"KeyR":{"name":"KeyR","caseDown":"к","caseUp":"К","caps":"К","shiftCaps":"к"},"KeyT":{"name":"KeyT","caseDown":"е","caseUp":"Е","caps":"Е","shiftCaps":"е"},"KeyY":{"name":"KeyY","caseDown":"н","caseUp":"Н","caps":"Н","shiftCaps":"н"},"KeyU":{"name":"KeyU","caseDown":"г","caseUp":"Г","caps":"Г","shiftCaps":"г"},"KeyI":{"name":"KeyI","caseDown":"ш","caseUp":"Ш","caps":"Ш","shiftCaps":"ш"},"KeyO":{"name":"KeyO","caseDown":"щ","caseUp":"Щ","caps":"Щ","shiftCaps":"щ"},"KeyP":{"name":"KeyP","caseDown":"з","caseUp":"З","caps":"З","shiftCaps":"з"},"BracketLeft":{"name":"BracketLeft","caseDown":"х","caseUp":"Х","caps":"Х","shiftCaps":"х"},"BracketRight":{"name":"BracketRight","caseDown":"ъ","caseUp":"Ъ","caps":"Ъ","shiftCaps":"ъ"},"BackSlash":{"name":"BackSlash","caseDown":"\\\\","caseUp":"/","caps":"\\\\","shiftCaps":"/"},"Delete":{"name":"Delete","caseDown":"Del","caseUp":"Del","caps":"Del","shiftCaps":"Del"},"CapsLock":{"name":"CapsLock","caseDown":"CapsLock","caseUp":"CapsLock","caps":"CapsLock","shiftCaps":"CapsLock"},"KeyA":{"name":"KeyA","caseDown":"ф","caseUp":"Ф","caps":"Ф","shiftCaps":"ф"},"KeyS":{"name":"KeyS","caseDown":"ы","caseUp":"Ы","caps":"Ы","shiftCaps":"ы"},"KeyD":{"name":"KeyD","caseDown":"в","caseUp":"В","caps":"В","shiftCaps":"в"},"KeyF":{"name":"KeyF","caseDown":"а","caseUp":"А","caps":"А","shiftCaps":"а"},"KeyG":{"name":"KeyG","caseDown":"п","caseUp":"П","caps":"П","shiftCaps":"п"},"KeyH":{"name":"KeyH","caseDown":"р","caseUp":"Р","caps":"Р","shiftCaps":"р"},"KeyJ":{"name":"KeyJ","caseDown":"о","caseUp":"О","caps":"О","shiftCaps":"о"},"KeyK":{"name":"KeyK","caseDown":"л","caseUp":"Л","caps":"Л","shiftCaps":"л"},"KeyL":{"name":"KeyL","caseDown":"д","caseUp":"Д","caps":"Д","shiftCaps":"д"},"Semicolon":{"name":"Semicolon","caseDown":"ж","caseUp":"Ж","caps":"Ж","shiftCaps":"ж"},"Quote":{"name":"Quote","caseDown":"э","caseUp":"Э","caps":"Э","shiftCaps":"э"},"Enter":{"name":"Enter","caseDown":"Enter","caseUp":"Enter","caps":"Enter","shiftCaps":"Enter"},"ShiftLeft":{"name":"ShiftLeft","caseDown":"Shift","caseUp":"Shift","caps":"Shift","shiftCaps":"Shift"},"ShiftRight":{"name":"ShiftRight","caseDown":"Shift","caseUp":"Shift","caps":"Shift","shiftCaps":"Shift"},"KeyZ":{"name":"KeyZ","caseDown":"я","caseUp":"Я","caps":"Я","shiftCaps":"я"},"KeyX":{"name":"KeyX","caseDown":"ч","caseUp":"Ч","caps":"Ч","shiftCaps":"ч"},"KeyC":{"name":"KeyC","caseDown":"с","caseUp":"С","caps":"С","shiftCaps":"с"},"KeyV":{"name":"KeyV","caseDown":"м","caseUp":"М","caps":"М","shiftCaps":"м"},"KeyB":{"name":"KeyB","caseDown":"и","caseUp":"И","caps":"И","shiftCaps":"и"},"KeyN":{"name":"KeyN","caseDown":"т","caseUp":"Т","caps":"Т","shiftCaps":"т"},"KeyM":{"name":"KeyM","caseDown":"ь","caseUp":"Ь","caps":"Ь","shiftCaps":"ь"},"Comma":{"name":"Comma","caseDown":"б","caseUp":"Б","caps":"Б","shiftCaps":"б"},"Period":{"name":"Period","caseDown":"ю","caseUp":"Ю","caps":"Ю","shiftCaps":"ю"},"Slash":{"name":"Slash","caseDown":".","caseUp":",","caps":".","shiftCaps":","},"ControlLeft":{"name":"ControlLeft","caseDown":"Ctrl","caseUp":"Ctrl","caps":"Ctrl","shiftCaps":"Ctrl"},"ControlRight":{"name":"ControlRight","caseDown":"Ctrl","caseUp":"Ctrl","caps":"Ctrl","shiftCaps":"Ctrl"},"AltLeft":{"name":"AltLeft","caseDown":"Alt","caseUp":"Alt","caps":"Alt","shiftCaps":"Alt"},"AltRight":{"name":"AltRight","caseDown":"Alt","caseUp":"Alt","caps":"Alt","shiftCaps":"Alt"},"MetaLeft":{"name":"MetaLeftKey","caseDown":"Win","caseUp":"Win","caps":"Win","shiftCaps":"Win"},"Space":{"name":"Space","caseDown":" ","caseUp":" ","caps":" ","shiftCaps":" "},"ArrowUp":{"name":"ArrowUp","caseDown":"↑","caseUp":"↑","caps":"↑","shiftCaps":"↑"},"ArrowDown":{"name":"ArrowDown","caseDown":"↓","caseUp":"↓","caps":"↓","shiftCaps":"↓"},"ArrowLeft":{"name":"ArrowLeft","caseDown":"←","caseUp":"←","caps":"←","shiftCaps":"←"},"ArrowRight":{"name":"ArrowRight","caseDown":"→","caseUp":"→","caps":"→","shiftCaps":"→"}},"eng":{"BackQuote":{"name":"BackQuote","caseDown":"`","caseUp":"~","caps":"`","shiftCaps":"~"},"Digit1":{"name":"Digit1","caseDown":"1","caseUp":"!","caps":"1","shiftCaps":"!"},"Digit2":{"name":"Digit2","caseDown":"2","caseUp":"@","caps":"2","shiftCaps":"@"},"Digit3":{"name":"Digit3","caseDown":"3","caseUp":"#","caps":"3","shiftCaps":"#"},"Digit4":{"name":"Digit4","caseDown":"4","caseUp":"$","caps":"4","shiftCaps":"$"},"Digit5":{"name":"Digit5","caseDown":"5","caseUp":"%","caps":"5","shiftCaps":"%"},"Digit6":{"name":"Digit6","caseDown":"6","caseUp":"^","caps":"6","shiftCaps":"^"},"Digit7":{"name":"Digit7","caseDown":"7","caseUp":"&","caps":"7","shiftCaps":"&"},"Digit8":{"name":"Digit8","caseDown":"8","caseUp":"*","caps":"8","shiftCaps":"*"},"Digit9":{"name":"Digit9","caseDown":"9","caseUp":"(","caps":"9","shiftCaps":"("},"Digit0":{"name":"Digit0","caseDown":"0","caseUp":")","caps":"0","shiftCaps":")"},"Minus":{"name":"Minus","caseDown":"-","caseUp":"_","caps":"-","shiftCaps":"_"},"Equals":{"name":"Equals","caseDown":"=","caseUp":"+","caps":"=","shiftCaps":"+"},"Backspace":{"name":"Backspace","caseDown":"Backspace","caseUp":"Backspace","caps":"Backspace","shiftCaps":"Backspace"},"Tab":{"name":"Tab","caseDown":"Tab","caseUp":"Tab","caps":"Tab","shiftCaps":"Tab"},"KeyQ":{"name":"KeyQ","caseDown":"q","caseUp":"Q","caps":"Q","shiftCaps":"q"},"KeyW":{"name":"KeyW","caseDown":"w","caseUp":"W","caps":"W","shiftCaps":"w"},"KeyE":{"name":"KeyE","caseDown":"e","caseUp":"E","caps":"E","shiftCaps":"e"},"KeyR":{"name":"KeyR","caseDown":"r","caseUp":"R","caps":"R","shiftCaps":"r"},"KeyT":{"name":"KeyT","caseDown":"t","caseUp":"T","caps":"T","shiftCaps":"t"},"KeyY":{"name":"KeyY","caseDown":"y","caseUp":"Y","caps":"Y","shiftCaps":"y"},"KeyU":{"name":"KeyU","caseDown":"u","caseUp":"U","caps":"U","shiftCaps":"u"},"KeyI":{"name":"KeyI","caseDown":"i","caseUp":"I","caps":"I","shiftCaps":"i"},"KeyO":{"name":"KeyO","caseDown":"o","caseUp":"O","caps":"O","shiftCaps":"o"},"KeyP":{"name":"KeyP","caseDown":"p","caseUp":"P","caps":"P","shiftCaps":"p"},"BracketLeft":{"name":"BracketLeft","caseDown":"[","caseUp":"{","caps":"[","shiftCaps":"{"},"BracketRight":{"name":"BracketRight","caseDown":"]","caseUp":"}","caps":"}","shiftCaps":"]"},"BackSlash":{"name":"BackSlash","caseDown":"\\\\","caseUp":"|","caps":"\\\\","shiftCaps":"|"},"Delete":{"name":"Delete","caseDown":"Del","caseUp":"Del","caps":"Del","shiftCaps":"Del"},"CapsLock":{"name":"CapsLock","caseDown":"CapsLock","caseUp":"CapsLock","caps":"CapsLock","shiftCaps":"CapsLock"},"KeyA":{"name":"KeyA","caseDown":"a","caseUp":"A","caps":"A","shiftCaps":"a"},"KeyS":{"name":"KeyS","caseDown":"s","caseUp":"S","caps":"S","shiftCaps":"s"},"KeyD":{"name":"KeyD","caseDown":"d","caseUp":"D","caps":"D","shiftCaps":"d"},"KeyF":{"name":"KeyF","caseDown":"f","caseUp":"F","caps":"F","shiftCaps":"f"},"KeyG":{"name":"KeyG","caseDown":"g","caseUp":"G","caps":"G","shiftCaps":"g"},"KeyH":{"name":"KeyH","caseDown":"h","caseUp":"H","caps":"H","shiftCaps":"h"},"KeyJ":{"name":"KeyJ","caseDown":"j","caseUp":"J","caps":"J","shiftCaps":"j"},"KeyK":{"name":"KeyK","caseDown":"k","caseUp":"K","caps":"K","shiftCaps":"k"},"KeyL":{"name":"KeyL","caseDown":"l","caseUp":"L","caps":"L","shiftCaps":"l"},"Semicolon":{"name":"Semicolon","caseDown":";","caseUp":":","caps":";","shiftCaps":":"},"Quote":{"name":"Quote","caseDown":"\'","caseUp":"\\"","caps":"\'","shiftCaps":"\\""},"Enter":{"name":"Enter","caseDown":"Enter","caseUp":"Enter","caps":"Enter","shiftCaps":"Enter"},"ShiftLeft":{"name":"ShiftLeft","caseDown":"Shift","caseUp":"Shift","caps":"Shift","shiftCaps":"Shift"},"ShiftRight":{"name":"ShiftRight","caseDown":"Shift","caseUp":"Shift","caps":"Shift","shiftCaps":"Shift"},"KeyZ":{"name":"KeyZ","caseDown":"z","caseUp":"Z","caps":"Z","shiftCaps":"z"},"KeyX":{"name":"KeyX","caseDown":"x","caseUp":"X","caps":"X","shiftCaps":"x"},"KeyC":{"name":"KeyC","caseDown":"c","caseUp":"C","caps":"C","shiftCaps":"c"},"KeyV":{"name":"KeyV","caseDown":"v","caseUp":"V","caps":"V","shiftCaps":"v"},"KeyB":{"name":"KeyB","caseDown":"b","caseUp":"B","caps":"B","shiftCaps":"b"},"KeyN":{"name":"KeyN","caseDown":"n","caseUp":"N","caps":"N","shiftCaps":"n"},"KeyM":{"name":"KeyM","caseDown":"m","caseUp":"M","caps":"M","shiftCaps":"m"},"Comma":{"name":"Comma","caseDown":",","caseUp":"<","caps":",","shiftCaps":"<"},"Period":{"name":"Period","caseDown":".","caseUp":">","caps":".","shiftCaps":">"},"Slash":{"name":"Slash","caseDown":"/","caseUp":"?","caps":"/","shiftCaps":"?"},"ControlLeft":{"name":"ControlLeft","caseDown":"Ctrl","caseUp":"Ctrl","caps":"Ctrl","shiftCaps":"Ctrl"},"ControlRight":{"name":"ControlRight","caseDown":"Ctrl","caseUp":"Ctrl","caps":"Ctrl","shiftCaps":"Ctrl"},"AltLeft":{"name":"AltLeft","caseDown":"Alt","caseUp":"Alt","caps":"Alt","shiftCaps":"Alt"},"AltRight":{"name":"AltRight","caseDown":"Alt","caseUp":"Alt","caps":"Alt","shiftCaps":"Alt"},"MetaLeft":{"name":"MetaLeftKey","caseDown":"Win","caseUp":"Win","caps":"Win","shiftCaps":"Win"},"Space":{"name":"Space","caseDown":" ","caseUp":" ","caps":" ","shiftCaps":" "},"ArrowUp":{"name":"ArrowUp","caseDown":"↑","caseUp":"↑","caps":"↑","shiftCaps":"↑"},"ArrowDown":{"name":"ArrowDown","caseDown":"↓","caseUp":"↓","caps":"↓","shiftCaps":"↓"},"ArrowLeft":{"name":"ArrowLeft","caseDown":"←","caseUp":"←","caps":"←","shiftCaps":"←"},"ArrowRight":{"name":"ArrowRight","caseDown":"→","caseUp":"→","caps":"→","shiftCaps":"→"}}}');window.onload=function(){var e,s;e=localStorage.getItem("lang"),i=JSON.parse(e),console.log("welcome to the world"),s=new a,document.body.append(s.generateHTMLpage()),function(e,a){a.forEach((function(a){var s=new c(e).generateKeyboard();document.querySelector(".keyboard").append(s),a.forEach((function(a){var c=new n(e,a);s.append(c.generateKey())}))}))}(p,h),l()};var i="rus",o="caseDown",r=0,f=!1,h=[["BackQuote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equals","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","BackSlash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","AltLeft","MetaLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]];function l(){var e=document.querySelectorAll(".rus"),a=document.querySelectorAll(".eng");a.forEach((function(e){return D(e)})),e.forEach((function(e){return D(e)})),"rus"===i?(e.forEach((function(e){return e.classList.remove("hidden")})),a.forEach((function(e){return e.classList.add("hidden")}))):(a.forEach((function(e){return e.classList.remove("hidden")})),e.forEach((function(e){return e.classList.add("hidden")}))),y(),localStorage.setItem("lang",JSON.stringify(i))}function D(e){for(var a=0;a<e.children.length;a++)e.children[a].classList.add("hidden")}function y(){"caseDown"===o?document.querySelectorAll(".caseDown").forEach((function(e){e.classList.remove("hidden")})):"caseUp"===o?document.querySelectorAll(".caseUp").forEach((function(e){e.classList.remove("hidden")})):"caps"===o?document.querySelectorAll(".caps").forEach((function(e){e.classList.remove("hidden")})):"shiftCaps"===o&&document.querySelectorAll(".shiftCaps").forEach((function(e){e.classList.remove("hidden")}))}function C(e){if("click"===e.type){var a=m(e);!a||("ShiftLeft"===a||"ShiftRight"===a)&&("ShiftLeft"!==a&&"ShiftRight"!==a||"caseUp"!==o&&"shiftCaps"!==o)||w(a)}else"keydown"!==e.type&&"keyup"!==e.type||w(e.code)}function m(e){var a=e.target.className.split(" ");if("key"===a[1])return a[2];"textarea"===a[0]&&(r=document.querySelector(".textarea").selectionEnd)}function w(e){switch(e){case"Backspace":case"Delete":case"CapsLock":case"Enter":case"ShiftLeft":case"ShiftRight":u(e);break;case"Tab":u("    ");break;case"ControlLeft":case"ControlRight":case"AltLeft":case"AltRight":case"MetaLeft":break;case"Space":u(" ");break;default:u("".concat(p[i][e][o]))}}function u(e){var a=document.querySelector(".textarea");r&&(a.selectionEnd=r),"Backspace"===e?K(a,r-1):"Delete"===e?K(a,r):"Enter"===e?U(a,r,"\n"):"CapsLock"===e?(document.querySelector(".".concat(e)).classList.toggle("active"),document.querySelectorAll(".".concat(o)).forEach((function(e){return e.classList.toggle("hidden")})),o="caseUp"===o?"shiftCaps":"caps"===o?"caseDown":"shiftCaps"===o?"caseUp":"caps",y()):"ShiftLeft"===e||"ShiftRight"===e?(document.querySelector(".".concat(e)).classList.toggle("active"),document.querySelectorAll(".".concat(o)).forEach((function(e){return e.classList.toggle("hidden")})),"caseDown"===o?o="caseUp":"caseUp"===o?o="caseDown":"caps"===o?o="shiftCaps":"shiftCaps"===o&&(o="caps"),y()):U(a,r,e)}function U(e,a,s){var c=e.value.split("");c.splice(a,0,s),r=a-1===e.value.length?e.value.length:a+1,e.value=c.join("")}function K(e,a){var s=e.value.split("");s.splice(a,1),r=a,e.value=s.join("")}document.addEventListener("keydown",(function(e){"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||!1!==f?e.repeat||(e.ctrlKey&&"AltLeft"===e.code?(i="rus"===i?"eng":"rus",l()):C(e)):(f=!0,C(e))})),document.addEventListener("keyup",(function(e){"ShiftLeft"===e.code||"ShiftRight"===e.code?(f=!1,C(e)):e.repeat})),document.addEventListener("click",(function(e){C(e)})),document.addEventListener("mousedown",(function(e){var a=m(e);"ShiftLeft"!==a&&"ShiftRight"!==a||w(a)})),document.addEventListener("mouseup",(function(e){var a=m(e);"ShiftLeft"!==a&&"ShiftRight"!==a||w(a)}))})();